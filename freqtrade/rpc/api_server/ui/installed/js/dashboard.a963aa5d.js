(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"26d3":function(t,e,a){"use strict";a.r(e);var o,r,i,n,s,c,l,d,u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-3"},[a("b-card",{attrs:{header:"FreqUI Settings"}},[a("div",{staticClass:"text-left"},[a("b-form-group",{attrs:{description:"Lock dynamic layouts, so they cannot move anymore.\\nCan also be set from the navbar at the top."}},[a("b-checkbox",{model:{value:t.layoutLockedLocal,callback:function(e){t.layoutLockedLocal=e},expression:"layoutLockedLocal"}},[t._v("Lock layout")])],1),a("b-form-group",{attrs:{label:"Show open trades in header",description:"Decide if open trades should be visualized"}},[a("b-form-select",{attrs:{options:t.openTradesOptions},model:{value:t.openTradesVisualization,callback:function(e){t.openTradesVisualization=e},expression:"openTradesVisualization"}})],1),a("b-form-group",{attrs:{label:"UTC Timezone",description:"Select timezone (we recommend UTC is recommended as exchanges usually work in UTC)"}},[a("b-form-select",{attrs:{options:t.timezoneOptions},model:{value:t.timezoneLoc,callback:function(e){t.timezoneLoc=e},expression:"timezoneLoc"}})],1),a("b-form-group",{attrs:{description:"Keep background sync running while other bots are selected."}},[a("b-checkbox",{model:{value:t.backgroundSyncLocal,callback:function(e){t.backgroundSyncLocal=e},expression:"backgroundSyncLocal"}},[t._v("Background sync")])],1)],1)])],1)},p=[],b=a("d4ec"),y=a("bee2"),m=a("262e"),f=a("2caf"),h=a("9ab4"),g=a("8e08"),O=a("7383"),v=a("1b40"),L=a("4bb5"),C=Object(L["c"])("layout"),k=Object(L["c"])("uiSettings"),j=function(t){Object(m["a"])(a,t);var e=Object(f["a"])(a);function a(){var t;return Object(b["a"])(this,a),t=e.apply(this,arguments),t.openTradesOptions=[{value:O["a"].showPill,text:"Show pill in icon"},{value:O["a"].asTitle,text:"Show in title"},{value:O["a"].noOpenTrades,text:"Don't show open trades in header"}],t.timezoneOptions=["UTC",Intl.DateTimeFormat().resolvedOptions().timeZone],t}return Object(y["a"])(a,[{key:"timezoneLoc",get:function(){return this.timezone},set:function(t){this[O["b"].setTimeZone](t)}},{key:"openTradesVisualization",get:function(){return this.openTradesInTitle},set:function(t){this.setOpenTradesInTitle(t)}},{key:"layoutLockedLocal",get:function(){return this.getLayoutLocked},set:function(t){this.setLayoutLocked(t)}},{key:"backgroundSyncLocal",get:function(){return this.backgroundSync},set:function(t){this.setBackgroundSync(t)}}]),a}(v["d"]);o=g["c"].getLayoutLocked,r=g["b"].setLayoutLocked,i=O["c"].openTradesInTitle,n=O["c"].timezone,s=O["c"].backgroundSync,c=O["b"].setOpenTradesInTitle,l=O["b"].setTimeZone,d=O["b"].setBackgroundSync,Object(h["a"])([C.Getter],j.prototype,o,void 0),Object(h["a"])([C.Action],j.prototype,r,void 0),Object(h["a"])([k.Getter],j.prototype,i,void 0),Object(h["a"])([k.Getter],j.prototype,n,void 0),Object(h["a"])([k.Getter],j.prototype,s,void 0),Object(h["a"])([k.Action],j.prototype,c,void 0),Object(h["a"])([k.Action],j.prototype,l,void 0),Object(h["a"])([k.Action],j.prototype,d,void 0),j=Object(h["a"])([Object(v["a"])({})],j);var T=j,_=T,w=a("2877"),x=Object(w["a"])(_,u,p,!1,null,"c4d9d596",null);e["default"]=x.exports},"4f6c":function(t,e,a){},5190:function(t,e,a){"use strict";a("4f6c")},"600f":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.trades?a("v-chart",{attrs:{option:t.chartOptions,autoresize:"",theme:t.getChartTheme}}):t._e()},r=[],i=a("3835"),n=a("ade3"),s=a("d4ec"),c=a("bee2"),l=a("262e"),d=a("2caf"),u=(a("fb6a"),a("caad"),a("2532"),a("d81d"),a("4fad"),a("9ab4")),p=a("1b40"),b=a("4bb5"),y=a("5c7f"),m=a("22b4"),f=a("f95e"),h=a("4cb5"),g=a("3620"),O=a("5e81"),v=a("104d"),L=a("ff32"),C=a("9394"),k=a("2da7");Object(m["a"])([h["a"],g["a"],f["a"],O["a"],v["a"],L["a"],C["a"],k["a"]]);var j="Profit",T="Trade Count",_=function(t){Object(l["a"])(a,t);var e=Object(d["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.botList=[],t}return Object(c["a"])(a,[{key:"cumulativeData",get:function(){this.botList=[];for(var t=[],e={},a=this.trades.slice().sort((function(t,e){return t.close_timestamp>e.close_timestamp?1:-1})),o=0,r=0,s=a.length;r<s;r+=1){var c=a[r];c.close_timestamp&&c[this.profitColumn]&&(o+=c[this.profitColumn],e[c.close_timestamp]?(e[c.close_timestamp].profit+=c[this.profitColumn],e[c.close_timestamp][c.botId]?e[c.close_timestamp][c.botId]+=c[this.profitColumn]:e[c.close_timestamp][c.botId]=o):e[c.close_timestamp]=Object(n["a"])({profit:o},c.botId,o),console.log(c.close_date,o),t.push(Object(n["a"])({date:c.close_timestamp,profit:o},c.botId,o)),this.botList.includes(c.botId)||this.botList.push(c.botId))}return Object.entries(e).map((function(t){var e=Object(i["a"])(t,2),a=e[0],o=e[1],r={date:parseInt(a,10),profit:o.profit};return r}))}},{key:"chartOptions",get:function(){var t={title:{text:"Cumulative Profit",show:this.showTitle},backgroundColor:"rgba(0, 0, 0, 0)",dataset:{dimensions:["date","profit"],source:this.cumulativeData},tooltip:{trigger:"axis",axisPointer:{type:"line",label:{backgroundColor:"#6a7985"}}},legend:{data:[j],right:"5%"},useUTC:!1,xAxis:{type:"time"},yAxis:[{type:"value",name:j,splitLine:{show:!1},nameRotate:90,nameLocation:"middle",nameGap:40},{type:"value",name:T,nameRotate:90,nameLocation:"middle",nameGap:30}],grid:{bottom:80},dataZoom:[{type:"inside",start:0,end:100},{show:!0,type:"slider",bottom:10,start:0,end:100}],series:[{type:"line",name:j,animation:!0,step:"end",lineStyle:{color:"dark"===this.getChartTheme?"#c2c2c2":"black"},itemStyle:{color:"dark"===this.getChartTheme?"#c2c2c2":"black"}}]};return t}}]),a}(p["d"]);Object(u["a"])([Object(p["c"])({required:!0})],_.prototype,"trades",void 0),Object(u["a"])([Object(p["c"])({default:!0,type:Boolean})],_.prototype,"showTitle",void 0),Object(u["a"])([Object(p["c"])({default:"close_profit_abs"})],_.prototype,"profitColumn",void 0),Object(u["a"])([b["b"]],_.prototype,"getChartTheme",void 0),_=Object(u["a"])([Object(p["a"])({components:{"v-chart":y["a"]}})],_);var w=_,x=w,G=(a("5190"),a("2877")),D=Object(G["a"])(x,o,r,!1,null,"5d2cbc74",null);e["a"]=D.exports},7277:function(t,e,a){"use strict";a.r(e);var o,r,i,n,s,c,l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("GridLayout",{staticClass:"h-100 w-100",attrs:{"row-height":50,layout:t.gridLayout,"vertical-compact":!1,margin:[5,5],"responsive-layouts":t.responsiveGridLayouts,"is-resizable":!t.isLayoutLocked,"is-draggable":!t.isLayoutLocked,responsive:!0,"prevent-collision":!0},on:{"update:layout":function(e){t.gridLayout=e},"layout-updated":t.layoutUpdated,"breakpoint-changed":t.breakpointChanged}},[a("GridItem",{attrs:{i:t.gridLayoutDaily.i,x:t.gridLayoutDaily.x,y:t.gridLayoutDaily.y,w:t.gridLayoutDaily.w,h:t.gridLayoutDaily.h,"min-w":3,"min-h":4,"drag-allow-from":".drag-header"}},[a("DraggableContainer",{attrs:{header:"Daily Profit "+(t.botCount>1?"combined":"")}},[t.allDailyStatsAllBots?a("DailyChart",{attrs:{"daily-stats":t.allDailyStatsAllBots,"show-title":!1}}):t._e()],1)],1),a("GridItem",{attrs:{i:t.gridLayoutBotComparison.i,x:t.gridLayoutBotComparison.x,y:t.gridLayoutBotComparison.y,w:t.gridLayoutBotComparison.w,h:t.gridLayoutBotComparison.h,"min-w":3,"min-h":4,"drag-allow-from":".drag-header"}},[a("DraggableContainer",{attrs:{header:"Bot comparison"}},[a("bot-comparison-list")],1)],1),a("GridItem",{attrs:{i:t.gridLayoutAllOpenTrades.i,x:t.gridLayoutAllOpenTrades.x,y:t.gridLayoutAllOpenTrades.y,w:t.gridLayoutAllOpenTrades.w,h:t.gridLayoutAllOpenTrades.h,"min-w":3,"min-h":4,"drag-allow-from":".drag-header"}},[a("DraggableContainer",{attrs:{header:"Open Trades"}},[a("trade-list",{attrs:{"active-trades":!0,trades:t.allOpenTradesAllBots,"multi-bot-view":""}})],1)],1),a("GridItem",{attrs:{i:t.gridLayoutCumChart.i,x:t.gridLayoutCumChart.x,y:t.gridLayoutCumChart.y,w:t.gridLayoutCumChart.w,h:t.gridLayoutCumChart.h,"min-w":3,"min-h":4,"drag-allow-from":".drag-header"}},[a("DraggableContainer",{attrs:{header:"Cumulative Profit"}},[a("CumProfitChart",{attrs:{trades:t.allTradesAllBots,"show-title":!1}})],1)],1),a("GridItem",{attrs:{i:t.gridLayoutTradesLogChart.i,x:t.gridLayoutTradesLogChart.x,y:t.gridLayoutTradesLogChart.y,w:t.gridLayoutTradesLogChart.w,h:t.gridLayoutTradesLogChart.h,"min-w":3,"min-h":4,"drag-allow-from":".drag-header"}},[a("DraggableContainer",{attrs:{header:"Trades Log"}},[a("TradesLogChart",{attrs:{trades:t.allTradesAllBots,"show-title":!1}})],1)],1)],1)},d=[],u=a("2909"),p=a("d4ec"),b=a("bee2"),y=a("262e"),m=a("2caf"),f=(a("caad"),a("9ab4")),h=a("640f"),g=a("1b40"),O=a("4bb5"),v=a("7be8"),L=a("e35f"),C=a("600f"),k=a("8ffe"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-table",{ref:"tradesTable",attrs:{small:"",hover:"","show-empty":"","primary-key":"botId",items:t.tableItems,fields:t.tableFields},scopedSlots:t._u([{key:"cell(profitOpen)",fn:function(e){return[e.item.profitOpen&&"Summary"!=e.item.botId?a("profit-pill",{attrs:{"profit-ratio":e.item.profitOpenRatio,"profit-abs":e.item.profitOpen,"stake-currency":e.item.stakeCurrency}}):t._e()]}},{key:"cell(profitClosed)",fn:function(e){return[e.item.profitClosed&&"Summary"!=e.item.botId?a("profit-pill",{attrs:{"profit-ratio":e.item.profitClosedRatio,"profit-abs":e.item.profitClosed,"stake-currency":e.item.stakeCurrency}}):t._e()]}},{key:"cell(balance)",fn:function(e){return[e.item.balance?a("div",[a("span",{attrs:{title:e.item.stakeCurrency}},[t._v(t._s(t.formatPrice(e.item.balance,e.item.stakeCurrencyDecimals))+" ")]),a("span",{attrs:{clas:"text-small"}},[t._v(t._s(e.item.stakeCurrency))])]):t._e()]}},{key:"cell(winVsLoss)",fn:function(e){return[void 0!==e.item.losses?a("div",[a("span",{staticClass:"text-profit"},[t._v(t._s(e.item.wins))]),t._v(" / "),a("span",{staticClass:"text-loss"},[t._v(t._s(e.item.losses))])]):t._e()]}}])})},T=[],_=a("3835"),w=(a("159b"),a("4fad"),a("99af"),a("231d")),x=a("969c"),G=Object(O["c"])("ftbot"),D=function(t){Object(y["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(p["a"])(this,a),t=e.apply(this,arguments),t.formatPrice=h["d"],t.tableFields=[{key:"botId",label:"Bot"},{key:"trades",label:"Trades"},{key:"profitOpen",label:"Open Profit"},{key:"profitClosed",label:"Closed Profit"},{key:"balance",label:"Balance"},{key:"winVsLoss",label:"W/L"}],t}return Object(b["a"])(a,[{key:"tableItems",get:function(){var t=this;console.log("tableItems called");var e=[],a={botId:"Summary",profitClosed:0,profitClosedRatio:0,profitOpen:0,profitOpenRatio:0,stakeCurrency:"USDT",wins:0,losses:0};return Object.entries(this.allProfit).forEach((function(o){var r,i,n,s,c=Object(_["a"])(o,2),l=c[0],d=c[1],u=t.allOpenTrades[l].reduce((function(t,e){return t+e.stake_amount}),0),p=t.allOpenTrades[l].reduce((function(t,e){return t+e.profit_ratio*e.stake_amount}),0)/u,b=t.allOpenTrades[l].reduce((function(t,e){return t+e.profit_abs}),0);e.push({botId:t.allAvailableBots[l].botName,trades:"".concat(t.allOpenTradeCount[l]," / ").concat((null===(r=t.allBotState[l])||void 0===r?void 0:r.max_open_trades)||"N/A"),profitClosed:d.profit_closed_coin,profitClosedRatio:d.profit_closed_ratio_sum||0,stakeCurrency:(null===(i=t.allBotState[l])||void 0===i?void 0:i.stake_currency)||"",profitOpenRatio:p,profitOpen:b,wins:d.winning_trades,losses:d.losing_trades,balance:null===(n=t.allBalance[l])||void 0===n?void 0:n.total,stakeCurrencyDecimals:(null===(s=t.allBotState[l])||void 0===s?void 0:s.stake_currency_decimals)||3}),void 0!==d.profit_closed_coin&&(a.profitClosed+=d.profit_closed_coin,a.profitOpen+=d.profit_all_coin,a.wins+=d.winning_trades,a.losses+=d.losing_trades)})),e.push(a),e}}]),a}(g["d"]);o=w["a"].allProfit,r=w["a"].allOpenTradeCount,i=w["a"].allOpenTrades,n=w["a"].allBotState,s=w["a"].allBalance,c=w["a"].allAvailableBots,Object(f["a"])([G.Getter],D.prototype,o,void 0),Object(f["a"])([G.Getter],D.prototype,r,void 0),Object(f["a"])([G.Getter],D.prototype,i,void 0),Object(f["a"])([G.Getter],D.prototype,n,void 0),Object(f["a"])([G.Getter],D.prototype,s,void 0),Object(f["a"])([G.Getter],D.prototype,c,void 0),D=Object(f["a"])([Object(g["a"])({components:{ProfitPill:x["a"]}})],D);var B,S,A,I,P,z,R,U,E,V=D,F=V,Z=a("2877"),$=Object(Z["a"])(F,j,T,!1,null,"a00f94dc",null),q=$.exports,N=a("8602"),J=a("a970"),K=a("8e08"),M=a("c865"),W=Object(O["c"])("ftbot"),H=Object(O["c"])("layout"),Q=function(t){Object(y["a"])(a,t);var e=Object(m["a"])(a);function a(){var t;return Object(p["a"])(this,a),t=e.apply(this,arguments),t.formatPrice=h["d"],t.localGridLayout=[],t.currentBreakpoint="",t}return Object(b["a"])(a,[{key:"isLayoutLocked",get:function(){return this.getLayoutLocked||!this.isResizableLayout}},{key:"isResizableLayout",get:function(){return["","md","lg","xl"].includes(this.currentBreakpoint)}},{key:"gridLayout",get:function(){return this.isResizableLayout?this.getDashboardLayout:this.localGridLayout},set:function(t){}},{key:"layoutUpdated",value:function(t){this.isResizableLayout&&(console.log("newlayout",t),console.log("saving dashboard"),this.setDashboardLayout(t))}},{key:"gridLayoutDaily",get:function(){return Object(K["f"])(this.gridLayout,K["a"].dailyChart)}},{key:"gridLayoutBotComparison",get:function(){return Object(K["f"])(this.gridLayout,K["a"].botComparison)}},{key:"gridLayoutAllOpenTrades",get:function(){return Object(K["f"])(this.gridLayout,K["a"].allOpenTrades)}},{key:"gridLayoutCumChart",get:function(){return Object(K["f"])(this.gridLayout,K["a"].cumChartChart)}},{key:"gridLayoutTradesLogChart",get:function(){return Object(K["f"])(this.gridLayout,K["a"].tradesLogChart)}},{key:"responsiveGridLayouts",get:function(){return{sm:this.getDashboardLayoutSm}}},{key:"mounted",value:function(){this.allGetDaily({timescale:30}),this.getTrades(),this.getOpenTrades(),this.getPerformance(),this.getProfit(),this.localGridLayout=Object(u["a"])(this.getDashboardLayoutSm)}},{key:"breakpointChanged",value:function(t){this.currentBreakpoint=t}}]),a}(g["d"]);B=w["a"].botCount,S=w["a"].allOpenTradesAllBots,A=w["a"].allTradesAllBots,I=w["a"].allDailyStatsAllBots,P=M["b"].performanceStats,z=K["c"].getDashboardLayoutSm,R=K["c"].getDashboardLayout,U=K["b"].setDashboardLayout,E=K["c"].getLayoutLocked,Object(f["a"])([W.Getter],Q.prototype,B,void 0),Object(f["a"])([W.Getter],Q.prototype,S,void 0),Object(f["a"])([W.Getter],Q.prototype,A,void 0),Object(f["a"])([W.Getter],Q.prototype,I,void 0),Object(f["a"])([W.Getter],Q.prototype,P,void 0),Object(f["a"])([W.Action],Q.prototype,"getPerformance",void 0),Object(f["a"])([W.Action],Q.prototype,"allGetDaily",void 0),Object(f["a"])([W.Action],Q.prototype,"getTrades",void 0),Object(f["a"])([W.Action],Q.prototype,"getOpenTrades",void 0),Object(f["a"])([W.Action],Q.prototype,"getProfit",void 0),Object(f["a"])([H.Getter],Q.prototype,z,void 0),Object(f["a"])([H.Getter],Q.prototype,R,void 0),Object(f["a"])([H.Action],Q.prototype,U,void 0),Object(f["a"])([H.Getter],Q.prototype,E,void 0),Q=Object(f["a"])([Object(g["a"])({components:{GridLayout:v["GridLayout"],GridItem:v["GridItem"],DailyChart:L["a"],CumProfitChart:C["a"],TradesLogChart:k["a"],BotComparisonList:q,TradeList:N["a"],DraggableContainer:J["a"]}})],Q);var X=Q,Y=X,tt=Object(Z["a"])(Y,l,d,!1,null,"78637332",null);e["default"]=tt.exports},"8ffe":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.trades.length>0?a("v-chart",{attrs:{option:t.chartOptions,autoresize:"",theme:t.getChartTheme}}):t._e()},r=[],i=a("d4ec"),n=a("bee2"),s=a("262e"),c=a("2caf"),l=(a("fb6a"),a("b680"),a("99af"),a("9ab4")),d=a("1b40"),u=a("4bb5"),p=a("5c7f"),b=a("22b4"),y=a("f95e"),m=a("4cb5"),f=a("3620"),h=a("5e81"),g=a("104d"),O=a("ff32"),v=a("9394"),L=a("2da7"),C=a("abd2"),k=a("c436");Object(b["a"])([m["a"],f["a"],y["a"],h["a"],g["a"],O["a"],v["a"],L["a"],C["a"],k["a"]]);var j="Profit %",T="#9be0a8",_=function(t){Object(s["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(n["a"])(a,[{key:"chartData",get:function(){for(var t=[],e=this.trades.slice(0).sort((function(t,e){return t.close_timestamp>e.close_timestamp?1:-1})),a=0,o=e.length;a<o;a+=1){var r=e[a],i=[a,(100*r.profit_ratio).toFixed(2),r.pair,r.botName];t.push(i)}return t}},{key:"chartOptions",get:function(){var t=this.chartData,e=t.length>0?100*(1-50/t.length):100;return{title:{text:"Trades log",show:this.showTitle},backgroundColor:"rgba(0, 0, 0, 0)",dataset:{dimensions:["date","profit"],source:t},tooltip:{trigger:"axis",formatter:function(t){return"Profit %<br>".concat(t[0].data[1]," % ").concat(t[0].data[2]," | ").concat(t[0].data[3])},axisPointer:{type:"line",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"value",show:!1},yAxis:[{type:"value",name:j,splitLine:{show:!1},nameRotate:90,nameLocation:"middle",nameGap:30}],grid:{bottom:80},dataZoom:[{type:"inside",start:e,end:100},{show:!0,type:"slider",bottom:10,start:e,end:100}],visualMap:[{show:!0,seriesIndex:0,pieces:[{max:0,color:"#f84960"},{min:0,color:"#2ed191"}]}],series:[{type:"bar",name:j,barGap:"0%",barCategoryGap:"0%",animation:!1,label:{show:!0,position:"top",rotate:90,offset:[7.5,-20],formatter:"{@[1]} %",color:"dark"===this.getChartTheme?"#c2c2c2":"#3c3c3c"},encode:{x:0,y:1},itemStyle:{color:T}}]}}}]),a}(d["d"]);Object(l["a"])([Object(d["c"])({required:!0})],_.prototype,"trades",void 0),Object(l["a"])([Object(d["c"])({default:!0,type:Boolean})],_.prototype,"showTitle",void 0),Object(l["a"])([u["b"]],_.prototype,"getChartTheme",void 0),_=Object(l["a"])([Object(d["a"])({components:{"v-chart":p["a"]}})],_);var w=_,x=w,G=(a("98c9"),a("2877")),D=Object(G["a"])(x,o,r,!1,null,"a727f23e",null);e["a"]=D.exports},"98c9":function(t,e,a){"use strict";a("afb6")},afb6:function(t,e,a){}}]);
//# sourceMappingURL=dashboard.a963aa5d.js.map